import React, { useState, useEffect } from 'react';
import { Home, User, FolderOpen, Wrench, Award, Briefcase, Phone, LogIn, Menu, X, Mail, MapPin, Facebook, Linkedin, Instagram, Youtube, MessageCircle, Send, Eye, BarChart3, Plus, Edit, Trash2 } from 'lucide-react';

// Initial data
const initialCertificates = [
  { id: 1, title: "Web Development Bootcamp", org: "Udemy", desc: "Full stack web development course" },
  { id: 2, title: "React Advanced", org: "Coursera", desc: "Advanced React patterns and best practices" },
  { id: 3, title: "Business Management", org: "edX", desc: "Fundamentals of business and entrepreneurship" },
];

const initialProjects = [
  { id: 1, name: "Kedu Education Platform", url: "https://kedu.vercel.app", desc: "Educational platform for students" },
  { id: 2, name: "Home WiFi Manager", url: "https://homewifi.vercel.app", desc: "WiFi management system" },
  { id: 3, name: "RU Online Store", url: "https://ruonlinesstore.vercel.app", desc: "E-commerce platform" },
  { id: 4, name: "A/L Exam Portal", url: "https://al-exam.vercel.app", desc: "Exam preparation platform" },
  { id: 5, name: "Personal Portfolio", url: "https://dmkaawya.vercel.app", desc: "My portfolio website" },
];

const App = () => {
  const [page, setPage] = useState('home');
  const [menuOpen, setMenuOpen] = useState(false);
  const [isLoggedIn, setIsLoggedIn] = useState(false);
  const [loginForm, setLoginForm] = useState({ username: '', password: '' });
  const [stats, setStats] = useState({ visitors: 1247, certificates: initialCertificates.length, skills: 12 });
  const [certificates, setCertificates] = useState(initialCertificates);
  const [projects, setProjects] = useState(initialProjects);
  const [contactForm, setContactForm] = useState({ name: '', email: '', message: '' });
  const [showModal, setShowModal] = useState(false);
  const [modalType, setModalType] = useState('');
  const [editItem, setEditItem] = useState(null);

  useEffect(() => {
    setStats(prev => ({ ...prev, certificates: certificates.length }));
  }, [certificates]);

  const navigation = [
    { name: 'About', icon: User, page: 'about' },
    { name: 'Categories', icon: FolderOpen, page: 'categories' },
    { name: 'Skills', icon: Wrench, page: 'skills' },
    { name: 'Certificates', icon: Award, page: 'certificates' },
    { name: 'Projects', icon: Briefcase, page: 'projects' },
    { name: 'Contact', icon: Phone, page: 'contact' },
  ];

  const skills = [
    { name: "React.js", level: 90 },
    { name: "JavaScript", level: 85 },
    { name: "HTML/CSS", level: 95 },
    { name: "Node.js", level: 80 },
    { name: "Python", level: 75 },
    { name: "Business Strategy", level: 85 },
    { name: "Content Creation", level: 90 },
    { name: "Video Editing", level: 80 },
    { name: "Social Media Marketing", level: 85 },
    { name: "Entrepreneurship", level: 88 },
    { name: "UI/UX Design", level: 82 },
    { name: "Database Management", level: 78 },
  ];

  const handleLogin = () => {
    if (loginForm.username === 'admin' && loginForm.password === 'admin') {
      setIsLoggedIn(true);
      setPage('dashboard');
    } else {
      alert('Invalid credentials! Use admin/admin');
    }
  };

  const handleContactSubmit = (e) => {
    e.preventDefault();
    alert(`Message sent!\n\nFrom: ${contactForm.name}\nEmail: ${contactForm.email}\nMessage: ${contactForm.message}\n\nThis would be sent to dmkaawya@gmail.com`);
    setContactForm({ name: '', email: '', message: '' });
  };

  const handleAddEdit = (type, item = null) => {
    setModalType(type);
    setEditItem(item);
    setShowModal(true);
  };

  const handleDelete = (type, id) => {
    if (window.confirm('Are you sure you want to delete this item?')) {
      if (type === 'certificate') {
        setCertificates(certificates.filter(c => c.id !== id));
      } else if (type === 'project') {
        setProjects(projects.filter(p => p.id !== id));
      }
    }
  };

  const handleModalSubmit = (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
    const data = Object.fromEntries(formData);

    if (modalType === 'certificate') {
      if (editItem) {
        setCertificates(certificates.map(c => c.id === editItem.id ? { ...c, ...data } : c));
      } else {
        setCertificates([...certificates, { id: Date.now(), ...data }]);
      }
    } else if (modalType === 'project') {
      if (editItem) {
        setProjects(projects.map(p => p.id === editItem.id ? { ...p, ...data } : p));
      } else {
        setProjects([...projects, { id: Date.now(), ...data }]);
      }
    }
    setShowModal(false);
    setEditItem(null);
  };

  const NavBar = () => (
    <nav className="fixed top-0 w-full bg-black border-b-2 border-red-600 z-50">
      <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div className="flex justify-between items-center h-16">
          <button onClick={() => setPage('home')} className="text-2xl font-bold text-red-600 hover:text-red-500 transition">
            üñãÔ∏è D.M.Kaawya
          </button>
          
          <div className="hidden md:flex space-x-6">
            {navigation.map(item => (
              <button key={item.page} onClick={() => setPage(item.page)} className="text-white hover:text-red-600 transition flex items-center gap-2">
                <item.icon size={18} />
                {item.name}
              </button>
            ))}
            {!isLoggedIn ? (
              <button onClick={() => setPage('login')} className="text-white hover:text-red-600 transition flex items-center gap-2">
                <LogIn size={18} />
                Login
              </button>
            ) : (
              <button onClick={() => setPage('dashboard')} className="text-red-600 hover:text-red-500 transition flex items-center gap-2">
                <BarChart3 size={18} />
                Dashboard
              </button>
            )}
          </div>

          <button onClick={() => setMenuOpen(!menuOpen)} className="md:hidden text-white">
            {menuOpen ? <X size={24} /> : <Menu size={24} />}
          </button>
        </div>
      </div>

      {menuOpen && (
        <div className="md:hidden bg-black border-t border-red-600">
          {navigation.map(item => (
            <button key={item.page} onClick={() => { setPage(item.page); setMenuOpen(false); }} className="block w-full text-left px-4 py-3 text-white hover:bg-red-600 transition">
              <item.icon size={18} className="inline mr-2" />
              {item.name}
            </button>
          ))}
          <button onClick={() => { setPage(isLoggedIn ? 'dashboard' : 'login'); setMenuOpen(false); }} className="block w-full text-left px-4 py-3 text-white hover:bg-red-600 transition">
            {isLoggedIn ? <><BarChart3 size={18} className="inline mr-2" />Dashboard</> : <><LogIn size={18} className="inline mr-2" />Login</>}
          </button>
        </div>
      )}
    </nav>
  );

  const HomePage = () => (
    <div className="min-h-screen flex items-center justify-center px-4">
      <div className="text-center">
        <div className="w-40 h-40 mx-auto mb-8 rounded-full bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center text-6xl">
          üë®‚Äçüíª
        </div>
        <h1 className="text-5xl md:text-7xl font-bold text-white mb-4">D.M.C.K.Chandrasekara</h1>
        <p className="text-xl md:text-2xl text-red-600 mb-8">Business | Entrepreneur | Content Creator | Developer | Student</p>
        
        <div className="flex flex-wrap justify-center gap-8 mb-8">
          <div className="bg-red-600 p-6 rounded-lg min-w-[150px]">
            <Award className="mx-auto mb-2" size={32} />
            <div className="text-3xl font-bold">{stats.certificates}</div>
            <div className="text-sm">Certificates</div>
          </div>
          <div className="bg-red-600 p-6 rounded-lg min-w-[150px]">
            <Wrench className="mx-auto mb-2" size={32} />
            <div className="text-3xl font-bold">{stats.skills}</div>
            <div className="text-sm">Skills</div>
          </div>
          <div className="bg-red-600 p-6 rounded-lg min-w-[150px]">
            <Eye className="mx-auto mb-2" size={32} />
            <div className="text-3xl font-bold">{stats.visitors}</div>
            <div className="text-sm">Website Views</div>
          </div>
        </div>

        <div className="flex flex-wrap justify-center gap-4">
          <button onClick={() => setPage('projects')} className="bg-red-600 hover:bg-red-700 px-8 py-3 rounded-lg font-semibold transition">
            View Projects
          </button>
          <button onClick={() => setPage('contact')} className="border-2 border-red-600 hover:bg-red-600 px-8 py-3 rounded-lg font-semibold transition">
            Hire Me
          </button>
        </div>
      </div>
    </div>
  );

  const AboutPage = () => (
    <div className="max-w-4xl mx-auto px-4">
      <div className="text-center mb-8">
        <div className="w-48 h-48 mx-auto mb-6 rounded-full bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center text-8xl border-4 border-red-600">
          üë®‚Äçüíª
        </div>
        <h1 className="text-4xl font-bold text-white mb-4">About Me</h1>
      </div>

      <div className="bg-gradient-to-br from-gray-900 to-black border-2 border-red-600 rounded-lg p-8 mb-6">
        <p className="text-lg leading-relaxed mb-4">
          ‡∂∏‡∂∏ ‡∂≠‡∑Ä‡∂∏ A/L ‡∑Ä‡∂Ω‡∂ß ‡∂â‡∂ú‡∑ô‡∂± ‡∂ú‡∂±‡∑ä‡∂± ‡∑Ö‡∂∏‡∂∫‡∑ô‡∂ö‡∑ä. ‡∂í‡∂≠‡∑ä ‡∂∏‡∂ú‡∑ö ‡∂¥‡∑ä‚Äç‡∂ª‡∂∞‡∑è‡∂± ‡∂Ö‡∂ª‡∂∏‡∑î‡∂´ ‡∂≠‡∂∏‡∂∫‡∑í business ‡∂ë‡∂ö‡∂ö‡∑ä ‡∑Ñ‡∂Ø‡∑è‡∂ú‡∂±‡∑ä‡∂± ‡∂ë‡∂ö. ‡∂Ø‡∑ê‡∂±‡∂ß‡∂∏‡∂≠‡∑ä ‡∂∏‡∂∏ content creation, development, ‡∑É‡∑Ñ entrepreneurship ‡∂ö‡∑ä‡∑Ç‡∑ö‡∂≠‡∑ä‚Äç‡∂ª‡∑Ä‡∂Ω active ‡∑Ä‡∑ô‡∂Ω‡∑è ‡∂â‡∂±‡∑ä‡∂±‡∑Ä‡∑è.
        </p>
        <p className="text-lg leading-relaxed mb-4">
          I'm a passionate student currently preparing for my A/Levels, but my real focus is on building a successful business. I'm already active in content creation, web development, and entrepreneurship. I believe in learning by doing and constantly expanding my skill set.
        </p>
        <p className="text-lg leading-relaxed">
          Through my journey, I've developed multiple platforms, earned various certifications, and gained practical experience in business management, digital marketing, and software development. My goal is to create innovative solutions that make a real impact.
        </p>
      </div>

      <div className="grid md:grid-cols-3 gap-4">
        <button onClick={() => setPage('skills')} className="bg-red-600 hover:bg-red-700 p-6 rounded-lg transition">
          <Wrench className="mx-auto mb-2" size={32} />
          <div className="font-semibold">View Skills</div>
        </button>
        <button onClick={() => setPage('certificates')} className="bg-red-600 hover:bg-red-700 p-6 rounded-lg transition">
          <Award className="mx-auto mb-2" size={32} />
          <div className="font-semibold">View Certificates</div>
        </button>
        <button onClick={() => setPage('contact')} className="bg-red-600 hover:bg-red-700 p-6 rounded-lg transition">
          <Phone className="mx-auto mb-2" size={32} />
          <div className="font-semibold">Contact Me</div>
        </button>
      </div>
    </div>
  );

  const CategoriesPage = () => (
    <div className="max-w-4xl mx-auto px-4">
      <h1 className="text-4xl font-bold text-white mb-8 text-center">Categories</h1>
      <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {[
          { name: 'Skills', icon: Wrench, page: 'skills', available: true },
          { name: 'Certificates', icon: Award, page: 'certificates', available: true },
          { name: 'Projects', icon: Briefcase, page: 'projects', available: true },
          { name: 'Visited Countries', icon: 'üåç', available: false },
          { name: 'Diplomas & Degrees', icon: 'üìú', available: false },
          { name: 'Coming Soon', icon: 'üî•', available: false },
        ].map((cat, i) => (
          <button key={i} onClick={() => cat.available && setPage(cat.page)} disabled={!cat.available} className={`p-8 rounded-lg border-2 transition ${cat.available ? 'bg-gradient-to-br from-gray-900 to-black border-red-600 hover:border-red-500 cursor-pointer' : 'bg-gray-800 border-gray-700 opacity-50 cursor-not-allowed'}`}>
            <div className="text-5xl mb-4">{typeof cat.icon === 'string' ? cat.icon : <cat.icon size={48} className="mx-auto text-red-600" />}</div>
            <div className="text-xl font-semibold">{cat.name}</div>
            {!cat.available && <div className="text-sm text-gray-400 mt-2">Coming Soon</div>}
          </button>
        ))}
      </div>
    </div>
  );

  const SkillsPage = () => (
    <div className="max-w-4xl mx-auto px-4">
      <h1 className="text-4xl font-bold text-white mb-8 text-center">My Skills</h1>
      <div className="space-y-6">
        {skills.map((skill, i) => (
          <div key={i} className="bg-gradient-to-br from-gray-900 to-black border-2 border-red-600 rounded-lg p-6">
            <div className="flex justify-between mb-2">
              <span className="font-semibold text-lg">{skill.name}</span>
              <span className="text-red-600 font-bold">{skill.level}%</span>
            </div>
            <div className="w-full bg-gray-700 rounded-full h-3">
              <div className="bg-gradient-to-r from-red-600 to-red-500 h-3 rounded-full transition-all duration-1000" style={{ width: `${skill.level}%` }}></div>
            </div>
          </div>
        ))}
      </div>
    </div>
  );

  const CertificatesPage = () => (
    <div className="max-w-4xl mx-auto px-4">
      <h1 className="text-4xl font-bold text-white mb-8 text-center">Certificates</h1>
      <div className="grid md:grid-cols-2 gap-6">
        {certificates.map(cert => (
          <div key={cert.id} className="bg-gradient-to-br from-gray-900 to-black border-2 border-red-600 rounded-lg p-6 hover:border-red-500 transition">
            <Award className="text-red-600 mb-4" size={40} />
            <h3 className="text-xl font-bold mb-2">{cert.title}</h3>
            <p className="text-red-600 mb-2">{cert.org}</p>
            <p className="text-gray-400">{cert.desc}</p>
          </div>
        ))}
      </div>
    </div>
  );

  const ProjectsPage = () => (
    <div className="max-w-4xl mx-auto px-4">
      <h1 className="text-4xl font-bold text-white mb-8 text-center">My Projects</h1>
      <div className="grid md:grid-cols-2 gap-6">
        {projects.map(project => (
          <div key={project.id} className="bg-gradient-to-br from-gray-900 to-black border-2 border-red-600 rounded-lg p-6 hover:border-red-500 transition">
            <Briefcase className="text-red-600 mb-4" size={40} />
            <h3 className="text-xl font-bold mb-2">{project.name}</h3>
            <p className="text-gray-400 mb-4">{project.desc}</p>
            <a href={project.url} target="_blank" rel="noopener noreferrer" className="inline-block bg-red-600 hover:bg-red-700 px-6 py-2 rounded transition">
              Visit Project ‚Üí
            </a>
          </div>
        ))}
      </div>
    </div>
  );

  const ContactPage = () => (
    <div className="max-w-4xl mx-auto px-4">
      <h1 className="text-4xl font-bold text-white mb-8 text-center">Contact Me</h1>
      
      <div className="grid md:grid-cols-2 gap-6 mb-8">
        <div className="bg-gradient-to-br from-gray-900 to-black border-2 border-red-600 rounded-lg p-6">
          <h3 className="text-xl font-bold mb-4">Contact Information</h3>
          <div className="space-y-4">
            <div className="flex items-center gap-3">
              <MapPin className="text-red-600" size={24} />
              <span>Kalutara, Sri Lanka</span>
            </div>
            <div className="flex items-center gap-3">
              <Phone className="text-red-600" size={24} />
              <span>0775048455</span>
            </div>
            <div className="flex items-center gap-3">
              <Mail className="text-red-600" size={24} />
              <span>dmkaawya@gmail.com</span>
            </div>
          </div>

          <div className="mt-6">
            <h4 className="font-semibold mb-3">Quick Contact</h4>
            <div className="flex flex-wrap gap-2">
              <a href="https://wa.me/94775048455" target="_blank" rel="noopener noreferrer" className="bg-green-600 hover:bg-green-700 px-4 py-2 rounded transition">WhatsApp</a>
              <a href="https://t.me/0775048455" target="_blank" rel="noopener noreferrer" className="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded transition">Telegram</a>
              <a href="sms:0775048455" className="bg-yellow-600 hover:bg-yellow-700 px-4 py-2 rounded transition">SMS</a>
              <a href="tel:0775048455" className="bg-red-600 hover:bg-red-700 px-4 py-2 rounded transition">Call</a>
            </div>
          </div>

          <div className="mt-6">
            <h4 className="font-semibold mb-3">Social Media</h4>
            <div className="flex gap-4">
              <a href="https://facebook.com" target="_blank" rel="noopener noreferrer" className="text-white hover:text-red-600 transition"><Facebook size={28} /></a>
              <a href="https://linkedin.com" target="_blank" rel="noopener noreferrer" className="text-white hover:text-red-600 transition"><Linkedin size={28} /></a>
              <a href="https://instagram.com" target="_blank" rel="noopener noreferrer" className="text-white hover:text-red-600 transition"><Instagram size={28} /></a>
              <a href="https://youtube.com" target="_blank" rel="noopener noreferrer" className="text-white hover:text-red-600 transition"><Youtube size={28} /></a>
              <a href="https://tiktok.com" target="_blank" rel="noopener noreferrer" className="text-white hover:text-red-600 transition"><MessageCircle size={28} /></a>
            </div>
          </div>
        </div>

        <div className="bg-gradient-to-br from-gray-900 to-black border-2 border-red-600 rounded-lg p-6">
          <h3 className="text-xl font-bold mb-4">Send a Message</h3>
          <form onSubmit={handleContactSubmit} className="space-y-4">
            <input type="text" placeholder="Your Name" value={contactForm.name} onChange={(e) => setContactForm({...contactForm, name: e.target.value})} required className="w-full bg-black border border-red-600 rounded px-4 py-2 focus:outline-none focus:border-red-500" />
            <input type="email" placeholder="Your Email" value={contactForm.email} onChange={(e) => setContactForm({...contactForm, email: e.target.value})} required className="w-full bg-black border border-red-600 rounded px-4 py-2 focus:outline-none focus:border-red-500" />
            <textarea placeholder="Your Message" rows="5" value={contactForm.message} onChange={(e) => setContactForm({...contactForm, message: e.target.value})} required className="w-full bg-black border border-red-600 rounded px-4 py-2 focus:outline-none focus:border-red-500"></textarea>
            <button type="submit" className="w-full bg-red-600 hover:bg-red-700 py-3 rounded font-semibold transition flex items-center justify-center gap-2">
              <Send size={20} />
              Send Message
            </button>
          </form>
        </div>
      </div>
    </div>
  );

  const LoginPage = () => (
    <div className="min-h-screen flex items-center justify-center px-4">
      <div className="bg-gradient-to-br from-gray-900 to-black border-2 border-red-600 rounded-lg p-8 max-w-md w-full">
        <h1 className="text-3xl font-bold text-white mb-6 text-center">Admin Login</h1>
        <div className="space-y-4">
          <input type="text" placeholder="Username" value={loginForm.username} onChange={(e) => setLoginForm({...loginForm, username: e.target.value})} className="w-full bg-black border border-red-600 rounded px-4 py-3 focus:outline-none focus:border-red-500" />
          <input type="password" placeholder="Password" value={loginForm.password} onChange={(e) => setLoginForm({...loginForm, password: e.target.value})} className="w-full bg-black border border-red-600 rounded px-4 py-3 focus:outline-none focus:border-red-500" />
          <button onClick={handleLogin} className="w-full bg-red-600 hover:bg-red-700 py-3 rounded font-semibold transition">
            Login
          </button>
          <p className="text-center text-gray-400 text-sm">Default: admin / admin</p>
        </div>
      </div>
    </div>
  );

  const DashboardPage = () => (
    <div className="max-w-6xl mx-auto px-4">
      <div className="flex justify-between items-center mb-8">
        <h1 className="text-4xl font-bold text-white">Admin Dashboard</h1>
        <button onClick={() => { setIsLoggedIn(false); setPage('home'); }} className="bg-red-600 hover:bg-red-700 px-6 py-2 rounded transition">
          Logout
        </button>
      </div>

      <div className="grid md:grid-cols-3 gap-6 mb-8">
        <div className="bg-gradient-to-br from-gray-900 to-black border-2 border-red-600 rounded-lg p-6">
          <Eye className="text-red-600 mb-2" size={32} />
          <div className="text-3xl font-bold">{stats.visitors}</div>
          <div className="text-gray-400">Total Visitors</div>
        </div>
        <div className="bg-gradient-to-br from-gray-900 to-black border-2 border-red-600 rounded-lg p-6">
          <Award className="text-red-600 mb-2" size={32} />
          <div className="text-3xl font-bold">{certificates.length}</div>
          <div className="text-gray-400">Certificates</div>
        </div>
        <div className="bg-gradient-to-br from-gray-900 to-black border-2 border-red-600 rounded-lg p-6">
          <Briefcase className="text-red-600 mb-2" size={32} />
          <div className="text-3xl font-bold">{projects.length}</div>
          <div className="text-gray-400">Projects</div>
        </div>
      </div>

      <div className="mb-8">
        <div className="flex justify-between items-center mb-4">
          <h2 className="text-2xl font-bold text-white">Certificates</h2>
          <button onClick={() => handleAddEdit('certificate')} className="bg-red-600 hover:bg-red-700 px-4 py-2 rounded transition flex items-center gap-2">
            <Plus size={20} />
            Add New
          </button>
        </div>
        <div className="space-y-4">
          {certificates.map(cert => (
            <div key={cert.id} className="bg-gradient-to-br from-gray-900 to-black border-2 border-red-600 rounded-lg p-4 flex justify-between items-center">
              <div>
                <h3 className="font-bold">{cert.title}</h3>
                <p className="text-sm text-gray-400">{cert.org} - {cert.desc}</p>
              </div>
              <div className="flex gap-2">
                <button onClick={() => handleAddEdit('certificate', cert)} className="bg-blue-600 hover:bg-blue-700 p-2 rounded transition">
                  <Edit size={18} />
                </button>
                <button onClick={() => handleDelete('certificate', cert.id)} className="bg-red-600 hover:bg-red-700 p-2 rounded transition">
                  <Trash2 size={18} />
                </button>
              </div>
            </div>
          ))}
        </div>
      </div>

      <div>
        <div className="flex justify-between items-center mb-4">
          <h2 className="text-2xl font-bold text-white">Projects</h2>
          <button onClick={() => handleAddEdit('project')} className="bg-red-600 hover:bg-red-700 px-4 py-2 rounded transition flex items-center gap-2">
            <Plus size={20} />
            Add New
          </button>
        </div>
        <div className="space-y-4">
          {projects.map(project => (
            <div key={project.id} className="bg-gradient-to-br from-gray-900 to-black border-2 border-red-600 rounded-lg p-4 flex justify-between items-center">
              <div>
                <h3 className="font-bold">{project.name}</h3>
                <p className="text-sm text-gray-400">{project.url}</p>
              </div>
              <div className="flex gap-2">
                <button onClick={() => handleAddEdit('project', project)} className="bg-blue-600 hover:bg-blue-700 p-2 rounded transition">
                  <Edit size={18} />
                </button>
                <button onClick={() => handleDelete('project', project.id)} className="bg-red-600 hover:bg-red-700 p-2 rounded transition">
                  <Trash2 size={18} />
                </button>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  );

  const Modal = () => {
    if (!showModal) return null;

    return (
      <div className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4">
        <div className="bg-gray-900 border-2 border-red-600 rounded-lg p-6 max-w-md w-full">
          <h2 className="text-2xl font-bold mb-4">{editItem ? 'Edit' : 'Add'} {modalType === 'certificate' ? 'Certificate' : 'Project'}</h2>
          <form onSubmit={handleModalSubmit} className="space-y-4">
            {modalType === 'certificate' ? (
              <>
                <input type="text" name="title" placeholder="Certificate Title" defaultValue={editItem?.title} required className="w-full bg-black border border-red-600 rounded px-4 py-2 focus:outline-none focus:border-red-500" />
                <input type="text" name="org" placeholder="Organization" defaultValue={editItem?.org} required className="w-full bg-black border border-red-600 rounded px-4 py-2 focus:outline-none focus:border-red-500" />
                <textarea name="desc" placeholder="Description" defaultValue={editItem?.desc} required className="w-full bg-black border border-red-600 rounded px-4 py-2 focus:outline-none focus:border-red-500" rows="3"></textarea>
              </>
            ) : (
              <>
                <input type="text" name="name" placeholder="Project Name" defaultValue={editItem?.name} required className="w-full bg-black border border-red-600 rounded px-4 py-2 focus:outline-none focus:border-red-500" />
                <input type="url" name="url" placeholder="Project URL" defaultValue={editItem?.url} required className="w-full bg-black border border-red-600 rounded px-4 py-2 focus:outline-none focus:border-red-500" />
                <textarea name="desc" placeholder="Description" defaultValue={editItem?.desc} required className="w-full bg-black border border-red-600 rounded px-4 py-2 focus:outline-none focus:border-red-500" rows="3"></textarea>
              </>
            )}
            <div className="flex gap-4">
              <button type="submit" className="flex-1 bg-red-600 hover:bg-red-700 py-2 rounded transition">
                {editItem ? 'Update' : 'Add'}
              </button>
              <button type="button" onClick={() => { setShowModal(false); setEditItem(null); }} className="flex-1 bg-gray-700 hover:bg-gray-600 py-2 rounded transition">
                Cancel
              </button>
            </div>
          </form>
        </div>
      </div>
    );
  };

  return (
    <div className="min-h-screen bg-black text-white">
      <NavBar />
      <div className="pt-20 pb-10">
        {page === 'home' && <HomePage />}
        {page === 'about' && <AboutPage />}
        {page === 'categories' && <CategoriesPage />}
        {page === 'skills' && <SkillsPage />}
        {page === 'certificates' && <CertificatesPage />}
        {page === 'projects' && <ProjectsPage />}
        {page === 'contact' && <ContactPage />}
        {page === 'login' && <LoginPage />}
        {page === 'dashboard' && isLoggedIn && <DashboardPage />}
      </div>
      <Modal />
    </div>
  );
};

export default App;
